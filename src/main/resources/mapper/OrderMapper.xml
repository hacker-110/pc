<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<!-- namespace属性：用于指定当前的映射文件和那个接口进行映射 ，需要指定接口的文件路径 ，需要标注包的完全路径接口  -->
<mapper namespace="com.example.pc.mapper.OrderMapper">
    <!--    查询订单列表-->
    <select id="selectOrader" resultType="com.example.pc.dto.OrderListDTO">
        select  id  , name , price, num ,img_url,state,nickName , avatarUrl,create_time  from pc_orderList
        <where>
            <if test="nickName != null and nickName !=''">
                and nickName LIKE CONCAT("%", #{nickName}, "%")
            </if>
            <if test="name != null and name !=''">
                and name LIKE CONCAT("%", #{name}, "%")
            </if>
            <if test="state != null and state !=''">
                and state LIKE CONCAT("%", #{state}, "%")
            </if>
            order by create_time desc
        </where>
    </select>
</mapper>